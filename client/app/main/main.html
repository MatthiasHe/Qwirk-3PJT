<div>
  <div class="window-title">
    <div class="title">
      <span>Qwirk</span>
      <i ui-sref="settings" class="pull-left fa fa-cog"></i>
    </div>
  </div>
  <div class="window-area">
    <div class="conversation-list">
      <ul>
        <!--<li><a ng-click="$ctrl.setRoomId(room._id)"><i class="fa fa-comment"></i></i><span>room = {{$ctrl.roomId}}</span></a></li>-->
        <li class="item"><a ng-click="$ctrl.displayTheDashboard()"><i class="fa fa-list-alt"></i><span>Dashboard</span></a>
        </li>
        <li class="item"><a disabled="true" href="#"><span class="mx-auto"></span></a></li>
        <li class="item"><a disabled="true"><span class="mx-auto">My friends</span></a></li>
      </ul>
      <!--Friends list, go to room on click-->
      <ul class="" ng-repeat="friend in $ctrl.friends">
        <li>
          <a> <i ng-if="friend.user.state == 'Online'" class="fa fa-circle-o online"></i>
            <i ng-if="friend.user.state == 'Busy'" class="fa fa-circle-o idle"></i>
            <i ng-if="friend.user.state == 'Offline'" class="fa fa-circle-o offline"></i>
            <span ng-if="!friend.nickname" ng-click="$ctrl.setRoomId(friend.room._id)">{{friend.user.name}}</span>
            <span ng-if="friend.nickname" ng-click="$ctrl.setRoomId(friend.room._id)">{{friend.nickname}}</span>
            <i ng-click="$ctrl.deleteFriend(friend.user._id)" class="fa fa-times"></i> </a>
        </li>
      </ul>
      <!--My private rooms where I am, go to room on click-->
      <ul>
        <li class="item"><a disabled="true"><span class="mx-auto"></span></a></li>
        <li class="item"><a disabled="true"><span class="mx-auto">My private room</span></a></li>
      </ul>
      <ul class="" ng-repeat="room in $ctrl.userPrivateRooms">
        <li><a ng-click="$ctrl.setRoomId(room._id)"><i class="fa fa-comment"></i></i><span>{{room.name}}</span></a></li>
        <!--<li class="item active"><a href="#"><i class="fa fa-user"></i><span>Team chat</span><i class="fa fa-times"></i></a></li>-->
      </ul>
      <!--My rooms where I am, go to room on click-->
      <ul>
        <li class="item"><a disabled="true"><span class="mx-auto"></span></a></li>
        <li class="item"><a disabled="true"><span class="mx-auto">My publics room</span></a></li>
      </ul>
      <ul class="" ng-repeat="room in $ctrl.userRooms">
        <li><a ng-click="$ctrl.setRoomId(room._id)"><i class="fa fa-comment"></i></i><span>{{room.name}}</span></a></li>
        <!--<li class="item active"><a href="#"><i class="fa fa-user"></i><span>Team chat</span><i class="fa fa-times"></i></a></li>-->
      </ul>
      <!--My rooms where I am not, go to room on click-->
      <ul>
        <li class="item"><a disabled="true"><span class="mx-auto"></span></a></li>
        <li class="item"><a disabled="true"><span class="mx-auto">Other publics room</span></a></li>
      </ul>
      <ul class="" ng-repeat="room in $ctrl.publicRooms">
        <li><a ng-click="$ctrl.setRoomId(room._id)"><i class="fa fa-comment"></i></i><span>{{room.name}}</span></a></li>
        <!--<li class="item active"><a href="#"><i class="fa fa-user"></i><span>Team chat</span><i class="fa fa-times"></i></a></li>-->
      </ul>
      <div class="my-account">
        <div class="image">
          <img src="{{$ctrl.currentUser.avatar}}">
          <i ng-if="$ctrl.userState == 'Online'" class="fa fa-circle online"></i>
          <i ng-if="$ctrl.userState == 'Busy'" class="fa fa-circle idle"></i>
        </div>
        <div class="name">
          <div uib-dropdown>
            <span uib-dropdown-toggle>{{$ctrl.currentUser.name}}</span> <i class="fa fa-angle-down"></i>
            <ul uib-dropdown-menu class="state-dropdown">
              <li ng-click="$ctrl.setUserState('Online')" class="dropdown-li">
                <i class="fa fa-circle online"></i><a class="anchor-dropdown">Available</a></li>
              <li ng-click="$ctrl.setUserState('Busy')" class="dropdown-li">
                <i class="fa fa-circle idle"></i><a class="anchor-dropdown">Busy</a></li>
            </ul>
          </div>
          <span class="availability">Available</span>
          <!--<button class="btn dropdown-toggle availability" type="button" data-toggle="dropdown">Available-->
          <!--<span class="caret"></span></button>-->
        </div>
      </div>
    </div>
    <dashboard-directive ng-if="$ctrl.displayDashboard"></dashboard-directive>
    <room-directive ng-if="$ctrl.displayRoom" roomid="{{$ctrl.roomId}}"></room-directive>
  </div>
</div>
